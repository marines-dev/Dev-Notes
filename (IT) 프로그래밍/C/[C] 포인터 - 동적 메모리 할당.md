# [C] ν¬μΈν„° : λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή

## ν”„λ΅μ„Έμ¤(Process)

ν”„λ΅μ„Έμ¤λ¥Ό 'μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅κ·Έλ¨'μ΄λΌκ³ λ„ ν•λ©°, μ΄μμ²΄μ κ°€ μ‹¤ν–‰ νμΌμ λ…λ Ήμ„ μ½μ–΄μ„Β λ©”λ¨λ¦¬ μ¬κµ¬μ„±(ν”„λ΅μ„Έμ¤)ν•λ©΄, CPUλ” ν”„λ΅μ„Έμ¤μ— μ €μ¥λ λ…λ Ήμ„ μ‹¤ν–‰ν•λ‹¤. μ΄λ¬ν• ν”„λ΅μ„Έμ¤λ”Β μ„Έκ·Έλ¨ΌνΈμ μ§‘ν•©μΌλ΅ κµ¬μ„±λμ–΄ μλ‹¤.

### **μ„Έκ·Έλ¨ΌνΈ(Segment)**

- μ½”λ“ μ„Έκ·Έλ¨ΌνΈ (Code Segment) : μ†μ¤λ¥ΌΒ κΈ°κ³„μ–΄λ΅ λ²μ—­ν•Β μ‹¤ν–‰ νμΌμ΄ μ‹¤ν–‰λκ³ ,Β ν”„λ΅μ„Έμ¤κ°€ λ§λ“¤μ–΄μ§€λ©΄Β κΈ°κ³„μ–΄ λ…λ Ήμ„ μ €μ¥ν•μ—¬ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰μ— μ‚¬μ©λλ‹¤.
- λ°μ΄ν„° μ„Έκ·Έλ¨ΌνΈ(Data Segment) : ν”„λ΅κ·Έλ¨μ΄ μ‹μ‘ν•΄μ„ λλ‚  λ•κΉμ§€ μ‚¬μ©λλ” λ°μ΄ν„°λ¥ΌΒ μ €μ¥ν•λ‹¤. λ°μ΄ν„° μ„Έκ·Έλ¨ΌνΈμ λ°μ΄ν„°λ”Β μ»΄νμΌν•  λ•Β μ •ν•΄μ§€λ©°Β μ „μ—­ λ³€μ,Β static λ³€μ, λ¬Έμμ—΄ μƒμκ°€ μ €μ¥λλ‹¤.
- μ¤νƒ μ„Έκ·Έλ¨ΌνΈ(Stack Segment) : ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— ν•„μ”ν•Β μ„μ‹ λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” μμ—­μΌλ΅ μ¤νƒ(Stack), ν™(Heep) κ³µκ°„μΌλ΅ λ‚λ‰λ‹¤. μ¤νƒμ—λ” ν•¨μκ°€ νΈμ¶λ  λ• ν•¨μ μ•μ— μ„ μ–ΈλΒ μ§€μ—­ λ³€μκ°€ μ €μ¥λκ³ ,Β ν™μ—λ” λ™μ  λ©”λ¨λ¦¬κ°€ μ €μ¥λλ‹¤.

## λ©”λ¨λ¦¬ ν• λ‹Ή

**μ •μ  λ©”λ¨λ¦¬ ν• λ‹Ή**

μ»΄νμΌν•  λ•Β λ°μ΄ν„° μ„Έκ·Έλ¨ΌνΈ, μ¤νƒ μ„Έκ·Έλ¨ΌνΈμ— λ³€μλ¥Ό μ €μ¥ν• Β λ©”λ¨λ¦¬ μ„μΉλ¥ΌΒ μ •ν•κΈ° λ•λ¬Έμ—Β ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λλ” μ¤‘κ°„μ— ν¬κΈ°λ¥Ό λ³€κ²½ν•  μ μ—†λ‹¤. μ •μ  ν• λ‹Ήλ λ©”λ¨λ¦¬μ ν¬κΈ°λ¥Ό λ³€κ²½ν•λ ¤λ©΄ μ½”λ“λ¥Ό λ³€κ²½ν• ν›„Β λ‹¤μ‹ μ»΄νμΌν•΄μ•Ό ν•λ‹¤. μ¤νƒμ— κΈ°λ³Έμ μΌλ΅ μ €μ¥λλ” λ©”λ¨λ¦¬ ν¬κΈ°λ”Β μµλ€ 1Mbyteμ΄λ‹¤. κ·Έλ°λ° μ¤νƒμ μ‹¤μ  ν¬κΈ°λ”Β ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λ  λ•κ°€ λΌμ„μ•Ό μ• μ μκΈ° λ•λ¬Έμ— μ»΄νμΌν• ν”„λ΅κ·Έλ¨μ΄ μ¤νƒμ„ μ–Όλ§λ‚ μ‚¬μ©ν• μ§€ μμƒν•  μ μ—†κΈ° λ•λ¬Έμ— λ©”λ¨λ¦¬μ ν¬κΈ°κ°€ 1Mbyteλ¥Ό λ„κ² μ„ μ–Έν•΄λ„ μ»΄νμΌ μ¤λ¥κ°€ μ²λ¦¬λμ§€ μ•κ³  ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•  λ•Β μ‹¤ν–‰ μ¤λ¥κ°€ λ°μƒν•κ² λλ‹¤. κ·Έλ¬λ‚ ν”„λ΅κ·Έλ¨μ—μ„ μ‚¬μ©ν•λ” λ°μ΄ν„°λ” λ³΄ν†µ 1Myteλ³΄λ‹¤ ν›¨μ”¬ ν° κ²½μ°κ°€ λ§λ‹¤. 

<aside>
π’΅ **μ •μ  ν• λ‹Ή λ©”λ¨λ¦¬Β κ΄€λ¦¬ λ°©λ²•**

μ „μ—­ λ³€μλ” ν”„λ΅κ·Έλ¨μ΄ μ‹μ‘ν•΄μ„ λλ‚  λ•κΉμ§€Β ν• λ‹Ήλ λ©”λ¨λ¦¬ ν¬κΈ°λ‚ μ£Όμ†κ°€ λ°”λ€μ§€ μ•κΈ° λ•λ¬Έμ—Β μ–΄λ””μ— ν• λ‹Ήλμ—λ”μ§€μ— λ€ν• μ¶”κ°€ μ •λ³΄κ°€ ν•„μ”μ—†λ‹¤. κ·Έλ¬λ‚Β μ§€μ—­ λ³€μλ”Β ν•¨μ νΈμ¶μ— λ”°λΌΒ λ©”λ¨λ¦¬ ν• λ‹Ήκ³Ό ν•΄μ κ°€ λ°λ³µλκΈ° λ•λ¬Έμ—Β λ³€μ μ£Όμ†κ°€ κ³„μ† λ°”λ€λ‹¤.Β κ·Έλ¬λ‚ μ§€μ—­ λ³€μμ κ°μλ§νΌ λ©”λ¨λ¦¬κ°€ μ¶”κ°€λλ‹¤λ©΄ λ©”λ¨λ¦¬ λ‚­λΉ„κ°€ μ‹¬ν•΄μ§„λ‹¤.Β κ°™μ€ ν•¨μμ— μ•μ— μ„ μ–Έλ λ³€μλ”Β μμ°¨μ μΌλ΅ λ©”λ¨λ¦¬μ— ν• λ‹ΉλκΈ° λ•λ¬Έμ— μ»΄νμΌν•λ” μ‹μ μ—μ„Β ν•¨μ ν•λ‚μ— λ‡ κ°μ μ§€μ—­ λ³€μκ°€ μ„ μ–Έλμ–΄ μλ”μ§€ μμ°¨μ μΌλ΅ μ €μ¥λμ–΄ λ©”λ¨λ¦¬ κ·Έλ£ΉμΌλ΅ κ΄€λ¦¬ν•  μ μλ‹¤.Β κ·Έλμ„ μ§€μ—­ λ³€μμ κ°μμ— μƒκ΄€μ—†μ΄ ν•¨μμΒ START ν¬μΈν„°μ™€Β END ν¬μΈν„°λ¥ΌΒ μ‚¬μ©ν•΄ κ΄€λ¦¬ν•  μ μλ‹¤. START ν¬μΈν„°μ μ£Όμ† μ—°μ‚°μΌλ΅λ§ μ§€μ—­ λ³€μμ λ©”λ¨λ¦¬ κ·Έλ£Ήμ„ κ΄€λ¦¬ν•  μ μμ§€λ§ ENDν¬μΈν„°κ°€ ν•„μ”ν• μ΄μ λ”Β ν•¨μ μ•μ—μ„ λ‹¤λ¥Έ ν•¨μλ¥Ό νΈμ¶ν•λ©΄Β λ‹¤λ¥Έ ν•¨μ μ•μ— μ„ μ–Έλ λ³€μλ” ENDν¬μΈν„° μ΄ν›„μ λ©”λ¨λ¦¬ κ³µκ°„μ— λ†“μ΄κΈ° λ•λ¬Έμ—Β ENDν¬μΈν„°λ”Β λ‹¤μμ— νΈμ¶λ  ν•¨μμ λ©”λ¨λ¦¬Β μ‹μ‘ μ„μΉλ¥Ό κ²°μ •ν•λ‹¤.

</aside>

<aside>
π’΅ **μ¤νƒ(Stack)**

μ¤νƒμ€Β λ‘ κ°μ ν¬μΈν„°λ΅ λ§μ€ μ–‘μ λ°μ΄ν„°λ¥Ό ν¨κ³Όμ μΌλ΅ κ΄€λ¦¬ν•λ” μλ£κµ¬μ΅°λ΅, ν”„λ΅μ„Έμ¤ μμ—­μ—μ„ μ¤νƒμ€ λ² μ΄μ¤ ν¬μΈν„°(BP, Base Pointer)λ¥Ό κΈ°μ¤€μΌλ΅Β λ°μ΄ν„°κ°€ μ¶”κ°€λ  λ•λ§λ‹¤ μμ„λ€λ΅ μ“μ•„ μ¬λ¦¬λ” κµ¬μ΅°μ΄λ©° μƒλ΅μ΄ λ°μ΄ν„°κ°€ μ¶”κ°€λ  μ„μΉλ”Β μ¤νƒ ν¬μΈν„°(SP, Stack Pointer)κ°€ κ°€λ¦¬ν‚¤κ² λλ‹¤. κ·Έλ¬λ―€λ΅Β λ² μ΄μ¤ ν¬μΈν„°κ°€Β START ν¬μΈν„°, μ¤νƒ ν¬μΈν„°κ°€Β END ν¬μΈν„°μ΄λ‹¤.Β μ¤νƒ μ„Έκ·Έλ¨ΌνΈμΒ μ¤νƒμ€Β μ§€μ—­ λ³€μλ¥Ό μ¤νƒ μλ£κµ¬μ΅°λ΅ λ©”λ¨λ¦¬λ¥Ό κ΄€λ¦¬ν•  μ μμΌλ©° PUSHν•μ—¬ λ°μ΄ν„°λ¥Ό μ¶”κ°€ν•λ©΄ μ¤νƒ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μ£Όμ†μ— μ €μ¥λκ³ Β 4byte(32λΉ„νΈ μ΄μμ²΄μ  κΈ°μ¤€)λ§νΌ μ¦κ°€ν•λ©°, POPν•μ—¬ μ¤νƒ ν¬μΈν„° μ£Όμ†κ°€ 4byte λ§νΌΒ κ°μ†ν•λ‹¤. κ·Έλ¬λ‚ μ‹¤μ  λ™μ‘μ€ PUSHλ”Β μ¤νƒ ν¬μΈν„°μ— μ €μ¥λ μ£Όμ†κ°€Β κ°μ†ν•κ³ ,Β POPμ€ μ¤νƒ ν¬μΈν„°μ μ£Όμ†λ¥ΌΒ μ¦κ°€μ‹ν‚¨λ‹¤. μ™λƒν•λ©΄ μ§€μ—­ λ³€μκ°€ λμ–΄λ‚  μλ΅ PUSHμ™€Β POP μ½”λ“κ°€ λ§μ•„μ Έ ν”„λ΅κ·Έλ¨ ν¨μ¨μ΄ λ–¨μ–΄μ§€κΈ° λ•λ¬Έμ—Β μ¤νƒ ν¬μΈν„°μ— μ €μ¥λ μ£Όμ†λ”Β PUSHμ™€ POP λ…λ Ήμ„ μ‚¬μ©ν•μ§€ μ•κ³ Β SUB λ…λ ΉμΌλ΅Β ν¬μΈν„° κ°’μ—μ„ ν• λ‹Ή ν¬κΈ°λ§νΌΒ λΉΌμ„Β κ³µκ°„μ„μ¦κ°€ν•κ³ ,Β ADD λ…λ ΉμΌλ΅Β ν¬μΈν„° κ°’μ—μ„ ν• λ‹Ή ν¬κΈ°λ§νΌ μ¦κ°€μ‹μΌ κ³µκ°„μ„ μ κ±°ν•κΈ° λ•λ¬Έμ΄λ‹¤.

</aside>

<aside>
π’΅ **μ¤νƒ ν”„λ μ„(Stack Frame)**

ν•¨μλ¥Ό νΈμ¶ν•  λ• μΌμ–΄λ‚λ”Β μ¤νƒμ λ³€ν™”μΈ μ¤νƒ ν”„λ μ„μ€ μ»΄νμΌν•  λ• κ²°μ •λκΈ° λ•λ¬Έμ— μ •μ  λ©”λ¨λ¦¬ ν• λ‹Ήμ΄λ‹¤. κ·Έλ¬λ―€λ΅ μ§€μ—­ λ³€μλ¥Ό μ¶”κ°€ν•κ±°λ‚ λ°°μ—΄ ν¬κΈ°λ¥Ό λ³€κ²½ν•λ ¤λ©΄Β μ¤νƒ ν”„λ μ„μ΄ μμ •λμ–΄μ•Ό ν•κΈ° λ•λ¬Έμ— μ½”λ“λ¥Ό μμ •ν•κ³ Β λ‹¤μ‹ μ»΄νμΌν•΄μ•Ό ν•λ‹¤. κ·Έλ¦¬κ³  λ°°μ—΄μ„ μ„ μ–Έν•  λ•Β []μ•μ— λ°λ“μ‹Β μƒμλ¥Ό μ μ–΄μ•Ό ν•λ” μ΄μ λ„Β λ³€μκ°€ μ¤λ©΄ μ •μ μΌλ΅ ν• λ‹Ήν•  ν¬κΈ°λ¥Ό κ³ μ •ν•  μ μ—†μ–΄μ„(μ¤νƒ ν¬μΈν„° μ—°μ‚°μ„ κ²°μ •ν•  μ μ—†μ–΄μ„)μ¤νƒ ν”„λ μ„μ„ κµ¬μ„±ν•  μ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.

</aside>

**λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή**

ν”„λ΅μ„Έμ¤μ κΈ°λ³Έμ μΈ μ¤νƒ λ©”λ¨λ¦¬λ§μΌλ΅λ” κ³µκ°„μ΄ λ¶€μ΅±ν•κΈ° λ•λ¬Έμ— λ” ν° λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•  λ°©λ²•μ΄ ν•„μ”ν•λ‹¤. μ΄λ¬ν• μ •μ  λ©”λ¨λ¦¬ ν• λ‹ΉμΒ ν•κ³„λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ ν™(Heap)μ΄λΌλ”Β λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή κ³µκ°„μ„ μ κ³µν•λ‹¤. ν™μ€ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— μ›ν•λ” μ‹μ μ— μ›ν•λ” ν¬κΈ°λ§νΌ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•κ³  ν•΄μ ν•λ” λ©”λ¨λ¦¬ ν• λ‹Ήμ„Β λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήμ„ ν•  μ μλ‹¤. λν• ν™μ€ Mbyte λ‹¨μ„κ°€ μ•„λ‹Β 2GbyteκΉμ§€ ν• λ‹Ήν•  μ μκΈ° λ•λ¬Έμ— λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•  λ• ν¬κΈ° λ¬Έμ κ°€ κ±°μ λ°μƒν•μ§€ μ•λ”λ‹¤. ν•μ§€λ§ λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή, ν•΄μ λ¥Ό μ§μ ‘ κ΄€λ¦¬ν•΄μ•Ό ν•λ©°, λ©”λ¨λ¦¬ ν¬κΈ°κ°€ μ‘μ„ κ²½μ° ν• λ‹Ήν•λ©΄Β ν™μ— λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ €μ¥ν•κΈ° μ„ν•Β ν¬μΈν„° λ³€μλ¥ΌΒ μ¤νƒμ—Β 4byte ν¬κΈ°λ΅ ν• λ‹Ήν•κΈ° λ•λ¬Έμ— λΉ„ν¨μ¨μ μΌ μ μλ‹¤.

**λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήν•κΈ°**

malloc() ν•¨μλ”Β void *Β ν•μ‹μΌλ΅ μ£Όμ†λ¥Ό λ°ν™ν•΄μ•Ό ν•λ”λ°, void *λ” μ‚¬μ©ν•  λ•λ§λ‹¤Β ν• λ³€ν™μ„ ν•΄μ•Ό ν•λ” λ¶νΈν•¨μ΄ μκΈ° λ•λ¬Έμ—Β malloc()μ„ μ‚¬μ©ν•μ—¬Β ν¬μΈν„°μ— μ£Όμ†λ¥Ό ν• λ‹Ήν•λ” μ‹μ μ— λ―Έλ¦¬Β ν• λ³€ν™μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

- ν—¤λ”νμΌ
    - stdlib.h
    - malloc.h
- ν•¨μμ›ν• : void * malloc([size_t](http://en.cppreference.com/w/c/types/size_t)Β size);

ex) int *ptr = (int *)malloc(32);

ex) short *ptr = (short *)malloc(16);

**λ™μ  λ©”λ¨λ¦¬ ν•΄μ ν•κΈ°**

malloc()μ„ μ΄μ©ν•΄ λ™μ  ν• λ‹Ήν•Β ν¬μΈν„° λ³€μλ”Β free() ν•¨μλ΅ λ™μ  λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•΄μ•Ό ν•λ‹¤. 

μ™λƒν•λ©΄ λ™μ  λ©”λ¨λ¦¬λ” μ§€μ—­ ν•¨μμ΄κΈ° λ•λ¬Έμ— ν•¨μμ™€ μΆ…λ£Β μ‹ λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬μ μ£Όμ† κ°’μ„ μ• μ μλ” λ°©λ²•μ΄ μ—†μ–΄μ„ ν•΄λ‹Ή λ©”λ¨λ¦¬κ°€ λ„μ‹¤λκΈ° λ•λ¬Έμ΄λ‹¤. λν• ν• λ‹Ήλμ§€ μ•μ€ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•κ±°λ‚,Β μ •μ  ν• λ‹Ή λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ” κ²½μ°μ—λ„Β μ‹¤ν–‰ν•  λ• μ¤λ¥κ°€ λ°μƒν•λ‹¤.

- ν•¨μμ›ν• : void free(void* ptr);

**μμ 1) λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήν•κΈ°**

```c
#include <stdio.h>
#include <malloc.h>
 
int main()
{
    int * ptr = nullptr;
    int limit, count, sum = 0;
 
    scanf_s("%d", &limit);
    ptr = (int *)malloc(sizeof(int) * limit); 
 
    while (count < limit)
    {
        scanf_s("%d", ptr + count );
        count ++;
    }
    
    for (int i = 0; i < count ; ++i)
    {
        if (i > 0)
            printf(" + ");
        printf(" %d ", *(ptr + i)); 
        sum = sum + *(ptr + i);
    }
    
    printf(" = %d\n", sum );
    
    free(ptr); //λ™μ  λ©”λ¨λ¦¬ ν•΄μ 
    
    return 0;
```

<aside>
π’΅ **2μ°¨μ› ν¬μΈν„° λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήν•κΈ°**

2μ°¨μ› ν¬μΈν„°λ„ λ§μ°¬κ°€μ§€λ΅ λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήν•λ” μλ£ν•μ€ μµμΆ… λ€μƒμ μλ£ν•μ΄κΈ° λ•λ¬Έμ—, sizeofμΌλ΅ ν¬μΈν„°ν•μ„ ν• λ‹Ήν•  κ²½μ° μλ£ν•μ ν¬κΈ°μ— μƒκ΄€μ—†μ΄ 4λ°”μ΄νΈ(ν¬μΈν„° μ£Όμ† ν¬κΈ°)κ°€ ν• λ‹Ήλκ³ , 1μ°¨μ› ν¬μΈν„°λ΅ ν• λ‹Ήν•  μ μκ² λλ‹¤. λ§μ°¬κ°€μ§€λ΅ 1μ°¨μ› ν¬μΈν„°λ΅ μ ‘κ·Όν•μ—¬ μµμΆ… λ€μƒλ„ λ™μ  ν• λ‹Ήν•  μ μλ‹¤. 

λ‹¤μ°¨μ› ν¬μΈν„°λ΅ λ™μ  ν• λ‹Ήν• λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•  κ²½μ° μ°¨μ›μ΄ ν° μμ„λ¶€ν„° ν•΄μ ν•κ² λλ©΄ κ·Έ λ³΄λ‹¤ μ‘μ€ μ°¨μ›μ€ ν•΄μ ν•μ§€ λ»ν•κ³  μ£Όμ† κ°’μ„ μƒμ–΄λ²„λ¦¬κ² λλ―€λ΅, λ™μ  ν• λ‹Ήν• ν¬μΈν„°μ μ°¨μ›μ΄ μ‘μ€ μμ„λ¶€ν„° μ°¨λ΅€λ€λ΅ ν•΄μ ν•΄μ•Ό ν•λ‹¤.

- *μλ£ν•* ** *λ³€μμ΄λ¦„* = (*μλ£ν•* **)malloc(sizeof(*μλ£ν•* *));
</aside>

**μμ 2) 2μ°¨μ› ν¬μΈν„°λ΅ λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήν•κΈ°**

```c
#include <stdio.h>
#include <malloc.h>
 
int main()
{
    short ** pp = (short**)malloc(sizeof(short*)); //4byte ν¬κΈ°μ 1μ°¨μ› ν¬μΈν„°λ΅ λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή
    *pp = (short*)malloc(sizeof(short)); //2byte ν¬κΈ°μ λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή
    
    **pp = 10;
    printf("**pp : %d\n", **pp );
    
    free(*pp); //λ‘λ²μ§Έ λ™μ  λ©”λ¨λ¦¬ ν•΄μ 
    free(pp); //μ²«λ²μ§Έ λ™μ  λ©”λ¨λ¦¬ ν•΄μ 
    
    return 0;
}
```

<aside>
π’΅ **μ—¬λ¬ κ°μ λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήν•κΈ°**

malloc()μ— ν• λ‹Ήν•  λ©”λ¨λ¦¬μ μ „μ²΄ ν¬κΈ°λ¥Ό μ μ–΄λ„ λμ§€λ§Β sizeof μ—°μ‚°μλ¥Ό μ‚¬μ©ν•μ—¬ λ©”λ¨λ¦¬μΒ μλ£ν• λ‹¨μ„λ¥Ό μ μ–΄μ„ μλ„λ¥Ό μΆ€ λ” μ‰½κ² νμ•…ν•  μ μλ‹¤. λ™μ μΌλ΅ ν• λ‹Ήν• λ°°μ—΄μ—Β μ ‘κ·Όν•λ” λ°©λ²•μ€Β ν¬μΈν„° μ£Όμ† μ—°μ‚°μ„Β ν•μ—¬Β ν¬μΈν„° λ³€μμ— μ €μ¥λμ–΄ μλ” μ£Όμ†λ΅ μ ‘κ·Όν•  μ μλ‹¤.

2μ°¨μ› ν¬μΈν„°λ„ λ§μ°¬κ°€μ§€λ΅ μ—¬λ¬ κ°μ 1μ°¨μ› ν¬μΈν„°λ¥Ό λ™μ  ν• λ‹Ήν•  μ μμΌλ©°, λ§μ°¬κ°€μ§€λ΅ λ™μ  ν• λ‹Ήν• 1μ°¨μ› ν¬μΈν„°λ¥Ό μ—¬λ¬ κ°μ λ€μƒμΌλ΅ λ™μ  ν• λ‹Ήν•  μ μλ‹¤. μ΄λ ‡κ² ν¬μΈν„°λ¥Ό λ°°μ—΄ ν•μ‹μΌλ΅ λ™μ  ν• λ‹Ήν•κ² λλ©΄ λ©”λ¨λ¦¬μ ν¬κΈ°λ¥Ό λ³€κ²½ν•λ”λΌλ„ λ‹¤μ‹ μ»΄νμΌν•μ§€ μ•μ•„λ„ λλ‹¤.

- 1μ°¨μ› ν¬μΈν„° λ™μ  ν• λ‹Ήν•κΈ° : *μλ£ν•* * *λ³€μμ΄λ¦„* = (*μλ£ν•* *)malloc(sizeof(*μλ£ν•*) * *μλ£ν•κ°μ*);
- 2μ°¨μ› ν¬μΈν„° λ™μ  ν• λ‹Ήν•κΈ° : *μλ£ν•* ** *λ³€μμ΄λ¦„* = (*μλ£ν•* **)malloc(sizeof(*μλ£ν•* *) * *μλ£ν•κ°μ*);

ex) int *ptr = (int *)malloc(sizeof(int) * 3);

*ptr = 1;

*(ptr + 1) = 2;Β 

ptr[2] = 3; 

</aside>

<aside>
π’΅ **ν•¨μμ λ§¤κ°λ³€μμ™€ ν¬μΈν„°**

ν•¨μμΒ λ§¤κ°λ³€μλ΅Β ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” κ²½μ°Β μ°¨μ›μ„ μλ» μ μ©ν•  κ²½μ° μ¤λ¥κ°€ λ°μƒν•  μ μλ‹¤. ν•¨μμ λ§¤κ°λ³€μκ°€ μΈμλ΅ ν¬μΈν„°λ¥Ό λ€μ…ν•  κ²½μ° ν•μ„ μ°¨μ›μ„ λ§μ¶°μ„ μ‚¬μ©ν•λ”λ° μ£Όμν•λ‹¤. 

**μμ 3) λ§¤κ°λ³€μμ— ν¬μΈν„° λ³€μλ¥ΌΒ μλ»Β μ‚¬μ©ν• κ²½μ°**

```c
#include <stdio.h>
#include <malloc.h>

void GetPtr(int *_p) //β‘΅_pλ” κ°™μ€ 1μ°¨μ› ν¬μΈν„°μ΄κΈ° λ•λ¬Έμ— pμ μ“°λ κΈ° μ£Όμ†κ°’μ„ κ°–κ² λλ‹¤.
{
    _p= (int*)malloc(8); //β‘Ά_pλ” μ“°λ κΈ° μ£Όμ† κ°’μΌλ΅ λ™μ  ν• λ‹Ήν–μ„ λΏ pλ” λ™μ  ν• λ‹Ήμ„ ν•μ§€ λ»ν•λ‹¤.
}
 
int main()
{
    int *p; //β‘ μ΄κΈ°ν™”λ¥Ό ν•μ§€ μ•μΌλ―€λ΅ μ“°λ κΈ° κ°’μ„ λ³΄μ ν•λ‹¤.
    GetPtr(&p);
    *p = 5; //β‘£pλ” λ™μ  ν• λ‹Ήμ„ λ°›μ§€ λ»ν•κ³  μ“°λ κΈ° μ£Όμ† κ°’μ— 5λ¥Ό μ €μ¥ν•κΈ° λ•λ¬Έμ— μ¤λ¥κ°€ λ°μƒν•λ‹¤.
    free(p);
    return 0;
}
```

**μμ 4) ν•¨μμΒ λ§¤κ°λ³€μλ΅Β 2μ°¨μ› ν¬μΈν„°Β μ‚¬μ©ν•κΈ°**

```c
#include <stdio.h>
#include <malloc.h>

void GetPtr(int **_p) //β‘΅2μ°¨μ› ν¬μΈν„° _pμ— 1μ°¨μ› ν¬μΈν„° pμ μ£Όμ† κ°’μ„ μ €μ¥ν•λ‹¤.
{
    *_p= (int*)malloc(sizeof(int)); //β‘Άλ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬ μ£Όμ† κ°’μ„_pμ΄ κ°€λ¦¬ν‚¤λ” pμ— μ €μ¥ν•λ‹¤.
}
 
int main()
{
    int *p;
    GetPtr(&p); //β‘ 1μ°¨μ› ν¬μΈν„° pμ μ£Όμ† κ°’μ„ λ§¤κ°λ³€μλ΅ μ „λ‹¬ν•λ‹¤.
    *p= 5; //β‘£λ™μ  ν• λ‹Ήν• λ©”λ¨λ¦¬μ— 5λ¥Ό μ €μ¥ν•λ‹¤.
    printf("%d\n", *p);
    free(p); //β‘¤GetPtr()μ—μ„ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ©΄ μ£Όμ† κ°’μ„ μƒμ–΄λ²„λ ¤ pκ°€ μ‚¬μ©ν•  μ μ—†κ² λκΈ° λ•λ¬Έμ— main()μ—μ„ ν•΄μ ν•λ‹¤.
    return 0;
}
```

</aside>